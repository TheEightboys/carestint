rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // ===== DEVELOPMENT MODE =====
    // For production, replace with more restrictive rules
    // Allow all authenticated users to read/write all collections
    
    // ===== EMPLOYERS =====
    match /employers/{employerId} {
      allow create: if true;
      allow read, update, delete: if true;
    }

    // ===== PROFESSIONALS =====
    match /professionals/{professionalId} {
      allow create: if true;
      allow read, update, delete: if true;
    }

    // ===== STINTS =====
    match /stints/{stintId} {
      allow read: if true;
      allow create, update, delete: if true;
    }

    // ===== APPLICATIONS =====
    match /applications/{applicationId} {
      allow read, write: if true;
    }

    // ===== STINT APPLICATIONS =====
    match /stintApplications/{applicationId} {
      allow read, write: if true;
    }

    // ===== DISPUTES =====
    match /disputes/{disputeId} {
      allow read, write: if true;
    }

    // ===== PAYOUTS =====
    match /payouts/{payoutId} {
      allow read, write: if true;
    }

    // ===== INVOICES =====
    match /invoices/{invoiceId} {
      allow read, write: if true;
    }

    // ===== AUDIT LOGS =====
    match /audit_logs/{logId} {
      allow read, write: if true;
    }

    // ===== AUDIT LOGS (camelCase - used by code) =====
    match /auditLogs/{logId} {
      allow read, write: if true;
    }


    // ===== NOTIFICATIONS =====
    match /notifications/{notificationId} {
      allow read, write: if true;
    }

    // ===== RISK SCORES =====
    match /risk_scores/{scoreId} {
      allow read, write: if true;
    }

    // ===== MARKETPLACE INSIGHTS =====
    match /marketplace_insights/{insightId} {
      allow read, write: if true;
    }

    // ===== SUPERADMINS =====
    match /superadmins/{superadminId} {
      allow read, write: if true;
    }

    // ===== WAITLIST =====
    match /waitlist/{entryId} {
      allow read, write: if true;
    }

    // ===== USERS (for dual role system) =====
    match /users/{userId} {
      allow read, write: if true;
    }

    // ===== PLATFORM CONFIG =====
    match /platformConfig/{configId} {
      allow read, write: if true;
    }

    // ===== SETTLEMENTS =====
    match /settlements/{settlementId} {
      allow read, write: if true;
    }

    // ===== DUPLICATE ALERTS =====
    match /duplicateAlerts/{alertId} {
      allow read, write: if true;
    }

    // ===== AUTOMATION SETTINGS =====
    match /automationSettings/{settingId} {
      allow read, write: if true;
    }

    // ===== MODULE REQUESTS =====
    match /moduleRequests/{requestId} {
      allow read, write: if true;
    }

    // ===== CHAT CONVERSATIONS =====
    match /conversations/{conversationId} {
      allow read, write: if true;
    }

    // ===== CHAT MESSAGES =====
    match /messages/{messageId} {
      allow read, write: if true;
    }

    // ===== CATCH-ALL for any other collections during development =====
    match /{document=**} {
      allow read, write: if true;
    }
  }
}

